CREATE DATABASE QL_KHACHSAN
GO
USE QL_KHACHSAN
GO

CREATE TABLE NhanVien
(
ID NVARCHAR(20) PRIMARY KEY,
Ten NVARCHAR(200),
NgaySinh DATE,
GioiTinh NCHAR(10),
DiaChi NVARCHAR(500),
SDT NVARCHAR(15),
NgayVaoLam date,
Hinh NVARCHAR(MAX)
)
GO
CREATE TABLE BangLuong
(
	ID_BangLuong INT PRIMARY KEY IDENTITY,
	IDNhanVien NVARCHAR(20) NOT NULL,
	Ngay DATE,
	Luong MONEY,
	TroCap MONEY

	FOREIGN KEY(IDNhanVien) REFERENCES dbo.NhanVien(ID)
)
GO
CREATE TABLE KhachHang
(
ID_KHACH NVARCHAR(20) PRIMARY KEY,
Ten NVARCHAR(200),
NgaySinh DATE,
GioiTinh Nchar(10),
Email NVARCHAR(500),
SDT NVARCHAR(15),
CMND NVARCHAR(15),
QuocTich NVARCHAR(50),
GhiChu NVARCHAR(100)
)
GO
CREATE TABLE Users
(
ID NVARCHAR(100) PRIMARY KEY,
Pass NVARCHAR(100) NOT NULL,
IDNhanVien NVARCHAR(20) NOT NULL

FOREIGN KEY(IDNhanVien) REFERENCES dbo.NhanVien(ID)
)
GO
CREATE TABLE DichVu
(
ID_DICH_VU INT PRIMARY KEY IDENTITY,
Ten NVARCHAR(200),
Gia MONEY,
   
)

CREATE TABLE LoaiPhong
(
ID_LOAI_PHONG INT PRIMARY KEY IDENTITY,
TenLoaiPhong NVARCHAR(100),
GIA MONEY,
TienPhuThu MONEY,
SoGiuong INT,
)

GO
GO
CREATE TABLE Phong
(
ID_PHONG NVARCHAR(20) PRIMARY KEY,
TenPhong NVARCHAR(500),
IDLoai INT NOT NULL,

FOREIGN KEY(IDLoai) REFERENCES dbo.LoaiPhong(ID_LOAI_PHONG),


)
CREATE TABLE CoSoVatChat
(
ID_CO_SO_VAT_CHAT NVARCHAR(20) PRIMARY KEY,
	Ten NVARCHAR(500),

	



)
CREATE TABLE PhongVatTu
(
	ID INT PRIMARY KEY IDENTITY, 
	IDPhong NVARCHAR(20) NOT NULL,
	IDCoSoVatChat NVARCHAR(20) NOT NULL

	FOREIGN KEY(IDPhong) REFERENCES dbo.Phong(ID_PHONG),
	FOREIGN KEY(IDCoSoVatChat) REFERENCES dbo.CoSoVatChat(ID_CO_SO_VAT_CHAT)
)
GO

GO
GO

CREATE TABLE TrangThaiThuePhong
(
ID_TRANG_THAI_THUE_PHONG INT PRIMARY KEY IDENTITY,
Ten NVARCHAR(100),
Roll INT
)
GO
CREATE TABLE BangThuePhong
(
ID_BANG_THUE_PHONG INT PRIMARY KEY IDENTITY(1,1),
IDPhong NVARCHAR(20) NOT NULL,
IDKhacHang NVARCHAR(20) NOT NULL,
NgayDat DATE,
CheckIn DATE,
CheckOut DATE,
SoLuongNguoiLon INT,
IDTrangThai INT NOT NULL,
TienCoc Money


FOREIGN KEY(IDPhong) REFERENCES dbo.Phong(ID_PHONG),
FOREIGN KEY(IDKhacHang) REFERENCES dbo.KhachHang(ID_KHACH),
FOREIGN KEY(IDTrangThai) REFERENCES dbo.TrangThaiThuePhong(ID_TRANG_THAI_THUE_PHONG)
)
GO
select IDPhong,IDKhacHang,NgayDat,SoLuongNguoiLon,IDTrangThai,TienCoc from BangThuePhong

CREATE TABLE SuDungDichVu
(
ID_SU_DUNG_DICH_VU INT PRIMARY KEY Identity(1,1),
IDBangThuePhong INT ,
IDDichVu INT NOT NULL,

FOREIGN KEY(IDBangThuePhong) REFERENCES dbo.BangThuePhong(ID_BANG_THUE_PHONG),
FOREIGN KEY(IDDichVu) REFERENCES dbo.DichVu(ID_DICH_VU),
)
GO


CREATE TABLE NguoiOCung
(
ID_NGUOI_O_CUNG INT PRIMARY KEY IDENTITY,
IDBangThuePhong INT NOT NULL,
IDNguoiOCung NVARCHAR(20) NOT NULL

FOREIGN KEY(IDBangThuePhong) REFERENCES dbo.BangThuePhong(ID_BANG_THUE_PHONG),
FOREIGN KEY(IDNguoiOCung) REFERENCES dbo.KhachHang(ID_KHACH)

)
GO

CREATE TABLE HoaDonThu
(
ID_HoaDonThu INT PRIMARY KEY IDENTITY,
IDNhanVien NVARCHAR(20) NOT NULL,
IDKhachHang NVARCHAR(20) NOT NULL,

LyDo NVARCHAR(500),

NgayLapHoaDon date,

TongTien MONEY

FOREIGN KEY(IDNhanVien) REFERENCES dbo.NhanVien(ID),
FOREIGN KEY(IDKhachHang) REFERENCES dbo.KhachHang(ID_KHACH),

)

GO
CREATE TABLE HoaDonChi
(
ID INT PRIMARY KEY IDENTITY,
IDNhanVien NVARCHAR(20) NOT NULL,
TenNguoiNhan NVARCHAR(20) NOT NULL,
LyDo NVARCHAR(500),
ChapNhan bit,
TongTien MONEY

FOREIGN KEY(IDNhanVien) REFERENCES dbo.NhanVien(ID)
)
GO
----------------Insert---------------------------

------------------------------------------------
INSERT INTO NhanVien
VALUES(N'admin',N'NGUYEN THANH HUY',N'04-13-2000',N'NAM',N'HCM',0009393944,N'1-1-2010',N'hinh_1');
INSERT INTO NhanVien
VALUES(N'NV01',N'HA THANG LONG',N'06-25-2000',N'NAM',N'HCM',000393244,N'10-30-2020',N'hinh_2');
INSERT INTO NhanVien
VALUES(N'NV02',N'NGUYEN THI THANH TOAN',N'08-16-2000',N'NU',N'LONG AN',000393244,N'05-14-2020',N'hinh_3');
GO
select * from NhanVien
---------Luong--------------
select GETDATE();
INSERT INTO BangLuong
VALUES(N'NV02',N'11-27-2020',200000,50000);
GO
INSERT INTO BangLuong
VALUES(N'NV02',N'11-28-2020',200000,50000);
GO
INSERT INTO BangLuong
VALUES(N'NV02',N'11-29-2020',200000,50000);
GO
INSERT INTO BangLuong
VALUES(N'NV02',N'11-30-2020',200000,50000);
GO
INSERT INTO BangLuong
VALUES(N'NV02',N'12-01-2020',200000,50000);
GO
select * from BangLuong as b, NhanVien as n where b.IDNhanVien=n.ID
go
-------------------------------------------------
Insert into Users
values(N'admin',N'admin',N'admin');
Insert into Users
values(N'HA THANG LONG',N'123',N'NV01');

go

---------------
INSERT INTO LoaiPhong VALUES (N'PHÒNG ĐƠN',300000,NULL,2)
 INSERT INTO LoaiPhong VALUES (N'PHÒNG ĐÔI',500000,NULL,3)
INSERT INTO LoaiPhong VALUES (N'PHÒNG BA',1200000,NULL,10)
GO
-------------------------
INSERT INTO Phong
VALUES (N'PHONG001',N'A101',1)

INSERT INTO Phong VALUES (N'PHONG002',N'A102',1)
INSERT INTO Phong VALUES (N'PHONG003',N'A103',2)
INSERT INTO Phong VALUES  (N'PHONG004',N'A104',2)
INSERT INTO Phong VALUES (N'PHONG005',N'B101',2)
INSERT INTO Phong VALUES  (N'PHONG006',N'B102',2)
INSERT INTO Phong VALUES  (N'PHONG007',N'B103',3)
INSERT INTO Phong VALUES (N'PHONG008',N'B104',3)
INSERT INTO Phong VALUES  (N'PHONG009',N'B201',3)
INSERT INTO Phong VALUES  (N'PHONG010',N'B202',3)
select * from Phong
go
---CO SO VAT CHAT----
INSERT INTO CoSoVatChat VALUES(N'V001',N'MÁY ĐIỀU HOÀ')
INSERT INTO CoSoVatChat VALUES(N'V002',N'TỦ LẠNH')
INSERT INTO CoSoVatChat VALUES(N'V003',N'TIVI')
INSERT INTO CoSoVatChat VALUES(N'V004',N'BỘ BÀN GHẾ GỖ')
INSERT INTO CoSoVatChat VALUES(N'V005',N'GIƯỜNG PHÒNG ĐƠN')
INSERT INTO CoSoVatChat VALUES(N'V006',N'GIƯỜNG PHÒNG ĐÔI')
INSERT INTO CoSoVatChat VALUES(N'V007',N'GIƯỜNG PHÒNG BA')
INSERT INTO CoSoVatChat VALUES(N'V008',N'GỐI')
INSERT INTO CoSoVatChat VALUES(N'V009',N'CHĂN')
INSERT INTO CoSoVatChat VALUES(N'V010',N'DRA GIƯỜNG')
INSERT INTO CoSoVatChat VALUES(N'V011',N'QUẠT TREO TƯỜNG')
INSERT INTO CoSoVatChat VALUES(N'V012',N'BỘ ẤM TRÀ')
INSERT INTO CoSoVatChat VALUES(N'V013',N'KHĂN TẮM')
INSERT INTO CoSoVatChat VALUES(N'V014',N'BÌNH ĐUN SIÊU TỐC')
INSERT INTO CoSoVatChat VALUES(N'V015',N'TỦ TREO ĐỒ')
INSERT INTO CoSoVatChat VALUES(N'V016',N'BOARD GAME(TỰ CHỌN)')
INSERT INTO CoSoVatChat VALUES(N'V017',N'DỤNG CỤ VSCN(BÀN CHẢI, KEM ĐÁNH RĂNG..)')
INSERT INTO CoSoVatChat VALUES(N'V018',N'ĐÈN NGỦ')
INSERT INTO CoSoVatChat VALUES(N'V019',N'TRANH TƯỜNG')
INSERT INTO CoSoVatChat VALUES(N'V020',N'CÂY XANH')
SELECT* FROM CoSoVatChat
GO
----PHONG CO VAT TU GI-----
INSERT INTO PhongVatTu VALUES(N'PHONG001',N'V005')
INSERT INTO PhongVatTu VALUES(N'PHONG001',N'V001')
INSERT INTO PhongVatTu VALUES(N'PHONG001',N'V002')
INSERT INTO PhongVatTu VALUES(N'PHONG001',N'V003')
INSERT INTO PhongVatTu VALUES(N'PHONG001',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG001',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG001',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG001',N'V015')
INSERT INTO PhongVatTu VALUES(N'PHONG001',N'V017')
INSERT INTO PhongVatTu VALUES(N'PHONG001',N'V018')
INSERT INTO PhongVatTu VALUES(N'PHONG001',N'V019')
----PHONG002
INSERT INTO PhongVatTu VALUES(N'PHONG002',N'V005')
INSERT INTO PhongVatTu VALUES(N'PHONG002',N'V001')
INSERT INTO PhongVatTu VALUES(N'PHONG002',N'V002')
INSERT INTO PhongVatTu VALUES(N'PHONG002',N'V003')
INSERT INTO PhongVatTu VALUES(N'PHONG002',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG002',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG002',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG002',N'V015')
INSERT INTO PhongVatTu VALUES(N'PHONG002',N'V017')
INSERT INTO PhongVatTu VALUES(N'PHONG002',N'V018')
INSERT INTO PhongVatTu VALUES(N'PHONG002',N'V019')
INSERT INTO PhongVatTu VALUES(N'PHONG002',N'V020')
----PHONG003
INSERT INTO PhongVatTu VALUES(N'PHONG003',N'V005')
INSERT INTO PhongVatTu VALUES(N'PHONG003',N'V001')
INSERT INTO PhongVatTu VALUES(N'PHONG003',N'V002')
INSERT INTO PhongVatTu VALUES(N'PHONG003',N'V003')
INSERT INTO PhongVatTu VALUES(N'PHONG003',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG003',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG003',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG003',N'V015')
INSERT INTO PhongVatTu VALUES(N'PHONG003',N'V014')
INSERT INTO PhongVatTu VALUES(N'PHONG003',N'V018')
INSERT INTO PhongVatTu VALUES(N'PHONG003',N'V019')
INSERT INTO PhongVatTu VALUES(N'PHONG003',N'V020')

----PHONG004
INSERT INTO PhongVatTu VALUES(N'PHONG004',N'V005')
INSERT INTO PhongVatTu VALUES(N'PHONG004',N'V011')
INSERT INTO PhongVatTu VALUES(N'PHONG004',N'V002')
INSERT INTO PhongVatTu VALUES(N'PHONG004',N'V003')
INSERT INTO PhongVatTu VALUES(N'PHONG004',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG004',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG004',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG004',N'V015')
INSERT INTO PhongVatTu VALUES(N'PHONG004',N'V014')
INSERT INTO PhongVatTu VALUES(N'PHONG004',N'V018')
INSERT INTO PhongVatTu VALUES(N'PHONG004',N'V019')
INSERT INTO PhongVatTu VALUES(N'PHONG004',N'V020')
--PHONG005
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V006')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V016')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V015')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V004')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V019')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V020')
INSERT INTO PhongVatTu VALUES(N'PHONG005',N'V018')
--PH006
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V006')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V012')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V004')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V018')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V019')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V020')
INSERT INTO PhongVatTu VALUES(N'PHONG006',N'V016')
--PHONG007
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V006')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V012')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V004')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V018')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V019')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V020')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V016')
INSERT INTO PhongVatTu VALUES(N'PHONG007',N'V017')
--PHONG008
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V007')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V004')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V001')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V002')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V003')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V007')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V015')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V015')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V019')
INSERT INTO PhongVatTu VALUES(N'PHONG008',N'V020')
--PHONG009
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V007')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V004')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V001')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V002')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V003')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V007')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V015')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V015')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V016')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V017')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V017')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V017')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V019')
INSERT INTO PhongVatTu VALUES(N'PHONG009',N'V020')
--PHONG010
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V007')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V001')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V002')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V003')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V004')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V008')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V009')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V010')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V013')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V014')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V015')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V015')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V016')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V018')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V019')
INSERT INTO PhongVatTu VALUES(N'PHONG010',N'V020')

SELECT* FROM Phong,PhongVatTu,CoSoVatChat WHERE PHONG.ID_PHONG=PhongVatTu.IDPhong AND CoSoVatChat.ID_CO_SO_VAT_CHAT=PhongVatTu.IDCoSoVatChat and IDPhong = N'PHONG010'
SELECT* FROM PhongVatTu
SELECT* FROM Phong,PhongVatTu,CoSoVatChat WHERE PHONG.ID_PHONG=PhongVatTu.IDPhong AND CoSoVatChat.ID_CO_SO_VAT_CHAT=PhongVatTu.IDCoSoVatChat
---------------
GO
---------TrangThaiThuePhong------------------
INSERT INTO TrangThaiThuePhong VALUES(N'TRỐNG',0)
INSERT INTO TrangThaiThuePhong VALUES(N'ĐÃ ĐẶT',1)


SELECT*FROM TrangThaiThuePhong
go
----------Khach-------------
INSERT INTO KhachHang VALUES('KHACH0001',N'TRAN THI TUOI',N'02-12-2000',N'NU',N'TUOI244@GMAIL.COM',090266728,079200006092,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0002',N'DUONG ANH TUYET',N'11-12-2000',N'NU',N'ANHTUYET2817@GMAIL.COM',0938714584,087300002345,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0003',N'NGUYEN PHI HOANG',N'04-02-2000',N'NAM',N'NGUYENPHIHOANG@GMAIL.COM',039742633,09230000343,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0004',N'TRAN TU',N'10-11-2000',N'NAM',N'TU983@GMAIL.COM',0989773728,0923000473,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0005',N'NGUYEN VAN TUNG',N'06-14-1996',N'NAM',N'TUNG123@GMAIL.COM',0965467876,2311823496,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0006',N'HA THANG LONG',N'06-24-2000',N'NAM',N'LONG3110C@GMAIL.COM',0963368526,2001180299,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0007',N'BUI VU HIEU PHUNG',N'01-09-2000',N'NU',N'PHUNGBUICUTE123@GMAIL.COM',0125672847,2001184567,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0008',N'NGUYEN QUOC HUY',N'04-10-1989',N'NAM',N'HUYBUIDAYNE@GMAIL.COM',0962345789,2311345026,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0009',N'DANG HOANG CAM MY',N'12-12-1997',N'NU',N'MYSTYLE@GMAIL.COM',0957284678,2001859372,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0010',N'DANG ANH HOANG',N'06-30-1998',N'NAM',N'HOANGHIEU@GMAIL.COM',0976251672,2001950282,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0011',N'NGUYEN VUONG VAN TRUONG',N'02-20-2000',N'NAM',N'TRUONGNGUYEN@GMAIL.COM',0124565898,2001192385,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0012',N'NGUYEN VUONG GIANG HA',N'12-12-2002',N'NU',N'NGUYENHA@GMAIL.COM',098654786,2001758375,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0013',N'HA NHAT MINH',N'12-02-2001',N'NU',N'NHATMINH@GMAIL.COM',094784786,2002358375,N'VIETNAM',NULL)
INSERT INTO KhachHang VALUES('KHACH0014',N'NGUYEN MINH TIEN',N'12-3-1998',N'NU',N'TIENGIANGTRAN@GMAIL.COM',097654386,2002058375,N'VIETNAM',NULL)

SELECT * FROM KhachHang
Select * from BangThuePhong
------NGAY SINH NHAP----THANG-NGAY-NAM-------------------------
-------
---------DICHVU-----------------
GO
INSERT INTO DichVu VALUES(N'GIẶT ỦI QUẦN ÁO',100000)
INSERT INTO DichVu VALUES(N'THUÊ BẾP',50000)
INSERT INTO DichVu VALUES(N'THUÊ LỀU CẮM TRẠI',150000)
INSERT INTO DichVu VALUES(N'THUÊ XE MÁY',150000)

select * from HoaDonThu as h, BangThuePhong as b where  b.IDKhacHang=h.IDKhachHang
go
select * from Phong
select * from BangThuePhong
select * from NguoiOCung, KhachHang where NguoiOCung.IDNguoiOCung=KhachHang.ID_KHACH
go
select b.ID_BANG_THUE_PHONG, p.TenPhong,l.TenLoaiPhong,k.Ten,b.NgayDat,b.CheckIn,b.CheckOut,b.TienCoc,t.Ten from KhachHang as k,LoaiPhong as l, Phong as p, BangThuePhong as b , TrangThaiThuePhong as t where k.ID_KHACH=b.IDKhacHang and l.ID_LOAI_PHONG=p.IDLoai and b.IDPhong=p.ID_PHONG and t.ID_TRANG_THAI_THUE_PHONG=b.IDTrangThai
go
select * from KhachHang as k,LoaiPhong as l, Phong as p, BangThuePhong as b , TrangThaiThuePhong as t where k.ID_KHACH=b.IDKhacHang and l.ID_LOAI_PHONG=p.IDLoai and b.IDPhong=p.ID_PHONG and t.ID_TRANG_THAI_THUE_PHONG=b.IDTrangThai
-------
select * from KhachHang as k, BangThuePhong as b , NguoiOCung as n ,Phong as p where p.ID_Phong = b.IDPHONG and k.ID_KHACH=n.IDNguoiOCung and b.ID_BANG_THUE_PHONG=n.IDBangThuePhong  and IDPhong like N'KHACH001'